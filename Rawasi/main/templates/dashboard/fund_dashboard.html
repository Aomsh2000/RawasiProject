{% extends 'main/base.html'%}
{%load static%}

{%block title%}<title>لوحة التحكم - الصندوق</title>{%endblock%}
{%block content%}
    
<section class="container bg-body-tertiary rounded-3 dashboard">
  <div class="row dashboard-row">
      <!-- Sidebar -->
      <div class="col-md-3 p-3 d-flex flex-column justify-content-between dashboard-side">
        <div>
          <h4 class=" mb-4 text-center ">مرحبا <span>{{leader.full_name}}</span></h4>
          <ul class="nav flex-column dashboard-links">
              <li class="nav-item">
                  <a class="nav-link-dashboard active" href="#" data-content="section1">الصندوق</a>
              </li>
              <li class="nav-item">
                  <a class="nav-link-dashboard" href="#" data-content="section2">التصويت</a>
              </li>
              <li class="nav-item">
                  <a class="nav-link-dashboard" href="#" data-content="section3">الأرباح</a>
              </li>
              <li class="nav-item">
                  <a class="nav-link-dashboard" href="#" data-content="section4">الفرص الاستثمارية</a>
              </li>
              <li class="nav-item">
                  <a class="nav-link-dashboard" href="#" data-content="section5">الافراد</a>
              </li>
              <li class="nav-item">
                  <a class="nav-link-dashboard" href="#" data-content="section6">المحفظة</a>
              </li>
          </ul>
        </div>
        <div class="d-flex justify-content-center">
       
      
      {% if unique_code %}
      <button class="btn btn-darkgreen" data-bs-toggle="modal" data-bs-target="#codeModal">
        استعراض الرمز
      </button>
      {%else%}
      <form method="POST">
        {% csrf_token %}
        <button type="submit" name="new_code" class="btn btn-darkgreen">إنشاء كود</button>
    </form>
      {% endif %}

          <!-- Modal Structure -->
          <div class="modal fade" id="codeModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered">
              <div class="modal-content">
                <div class="modal-header border-white d-flex justify-content-between">
                  <h5 class="modal-title" id="exampleModalLabel">الرمز</h5>
                  <button type="button" class="btn-close m-0" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body ">
                  {% if unique_code %}
                <h2 class="text-center">{{ unique_code }}</h2>
                  {% endif %}
                </div>
                <div class="modal-footer border-white ">
                  <button type="button" class="btn btn-darkgreen w-100 " data-bs-dismiss="modal">تم</button>
                </div>
              </div>
            </div>
          </div>
          
        </div>
         
      </div>

      <!-- Content Area -->
      <div class="col-md-9 p-3">
          <div id="section1" class="dashboard-section">
            <div class="text-center dashboard-section1  d-flex flex-column justify-content-center align-items-center">
              <h3>لا يوجد صندوق حاليا</h3>
              <p class="text-muted">قم بانشاء الصندوق الان</p>
              <button class="btn btn-darkgreen">انشاء الصندوق</button>
            </div>
          </div>
          <div id="section2" class="dashboard-section" style="display: none;">
              <h3>Content for Section 2</h3>
              <p>This is where the content for Section 2 will be displayed.</p>
          </div>
          <div id="section3" class="dashboard-section" style="display: none;">
              <h3>Content for Section 3</h3>
              <p>This is where the content for Section 3 will be displayed.</p>
          </div>
          <div id="section4" class="dashboard-section" style="display: none;">
              <h3>Content for Section 4</h3>
              <p>This is where the content for Section 4 will be displayed.</p>
          </div>
          <div id="section5" class="dashboard-section" style="display: none;">
              <h3>Content for Section 5</h3>
              <p>This is where the content for Section 5 will be displayed.</p>
          </div>
          <div id="section6" class="dashboard-section" style="display: none;">
              <h3>Content for Section 6</h3>
              <p>This is where the content for Section 6 will be displayed.</p>
          </div>
      </div>
  </div>
</section>


  

  {%endblock%}
  {%block script%}
  <script>
    // Handle the section content change
    const navLinks = document.querySelectorAll('.nav-link-dashboard');
    const sections = document.querySelectorAll('.dashboard-section');

    // Set the default visible section
    const defaultSection = 'section1'; // This can be any section you want to show by default
    document.getElementById(defaultSection).style.display = 'block';
    document.querySelector(`.nav-link-dashboard[data-content="${defaultSection}"]`).classList.add('active');
    
    navLinks.forEach(link => {
        link.addEventListener('click', (e) => {
            e.preventDefault();

            // Remove the 'active' class from all nav links
            navLinks.forEach(link => link.classList.remove('active'));
            // Add 'active' class to the clicked link
            link.classList.add('active');

            // Hide all sections
            sections.forEach(section => {
                section.style.display = 'none';
            });

            // Show the content corresponding to the clicked section
            const sectionId = link.getAttribute('data-content');
            const activeSection = document.getElementById(sectionId);
            activeSection.style.display = 'block';
        });
    });
</script>
{%endblock%}